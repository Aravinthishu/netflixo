{% load static %}
<header class=' m-auto fixed top-0 left-0 right-0 flex shadow-lg bg-black py-4 px-4 sm:px-10  font-[sans-serif] min-h-[70px] tracking-wide  z-50'>
    <div class='w-full container m-auto flex flex-wrap items-center lg:gap-y-4 gap-y-6 gap-x-4'>
      <a href="{% url 'home' %}"><img src="{% static 'images/logo.png' %}" alt="logo" class='w-36' />
      </a>
  
      <div id="collapseMenu"
        class="max-lg:hidden lg:!flex lg:items-center lg:flex-1 max-lg:before:fixed max-lg:before:bg-black max-lg:before:opacity-40 max-lg:before:inset-0 max-lg:before:z-50">
        <button id="toggleClose" class='lg:hidden fixed top-2 right-4 z-[100] rounded-full bg-white p-3'>
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 fill-black" viewBox="0 0 320.591 320.591">
            <path
              d="M30.391 318.583a30.37 30.37 0 0 1-21.56-7.288c-11.774-11.844-11.774-30.973 0-42.817L266.643 10.665c12.246-11.459 31.462-10.822 42.921 1.424 10.362 11.074 10.966 28.095 1.414 39.875L51.647 311.295a30.366 30.366 0 0 1-21.256 7.288z"
              data-original="#000000"></path>
            <path
              d="M287.9 318.583a30.37 30.37 0 0 1-21.257-8.806L8.83 51.963C-2.078 39.225-.595 20.055 12.143 9.146c11.369-9.736 28.136-9.736 39.504 0l259.331 257.813c12.243 11.462 12.876 30.679 1.414 42.922-.456.487-.927.958-1.414 1.414a30.368 30.368 0 0 1-23.078 7.288z"
              data-original="#000000"></path>
          </svg>
        </button>
  
        <ul
          class='lg:ml-14 lg:flex lg:gap-x-8 max-lg:space-y-3 max-lg:fixed max-lg:bg-white max-lg:w-2/3 max-lg:min-w-[300px] max-lg:top-0 max-lg:left-0 max-lg:px-10 max-lg:py-4 max-lg:h-full max-lg:shadow-md max-lg:overflow-auto z-50'>
          <li class='mb-6 hidden max-lg:block'>
            <a href="javascript:void(0)"><img src="{% static 'images/logo.png' %}" alt="logo" class='w-36' />
            </a>
          </li>
          <li
            class='max-lg:border-b max-lg:py-3 relative lg:after:absolute lg:after:bg-red-600 lg:after:w-full lg:after:h-[3px] lg:after:block lg:after:-bottom-2 lg:after:transition-all lg:after:duration-300'>
            <a href="{% url 'movies-page' %}" class='text-black lg:text-white block text-sm font-semibold'>Movies</a>
          </li>
          <li
            class='max-lg:border-b max-lg:py-3 relative lg:hover:after:absolute lg:after:bg-red-600 lg:after:w-0 lg:hover:after:w-full lg:hover:after:h-[3px] lg:after:block lg:after:-bottom-2 lg:after:transition-all lg:after:duration-300'>
            <a href='javascript:void(0)' class='text-black lg:text-white block text-sm font-semibold'>About Us</a>
          </li>
          <li
            class='max-lg:border-b max-lg:py-3 relative lg:hover:after:absolute lg:after:bg-red-600 lg:after:w-0 lg:hover:after:w-full lg:hover:after:h-[3px] lg:after:block lg:after:-bottom-2 lg:after:transition-all lg:after:duration-300'>
            <a href='javascript:void(0)' class='text-black lg:text-white block text-sm font-semibold'>Contact Us</a>
          </li>
        </ul>
  
        <form method="GET" action="{% url 'search_movies' %}">
          <div class='lg:mx-8 max-xl:hidden flex items-center bg-red-100 h-10 rounded flex-1'>
            <div class="bg-red-600 rounded p-2">
              <button class="" type="submit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192.904 192.904" width="14px"
                class="cursor-pointer fill-white mr-4 rotate-90 inline-block">
                <path
                  d="m190.707 180.101-47.078-47.077c11.702-14.072 18.752-32.142 18.752-51.831C162.381 36.423 125.959 0 81.191 0 36.422 0 0 36.423 0 81.193c0 44.767 36.422 81.187 81.191 81.187 19.688 0 37.759-7.049 51.831-18.751l47.079 47.078a7.474 7.474 0 0 0 5.303 2.197 7.498 7.498 0 0 0 5.303-12.803zM15 81.193C15 44.694 44.693 15 81.191 15c36.497 0 66.189 29.694 66.189 66.193 0 36.496-29.692 66.187-66.189 66.187C44.693 147.38 15 117.689 15 81.193z">
                </path>
              </svg>
              <button>
            </div>
            <input type='text' name="query" placeholder='Search here...' class='w-full text-black mx-3 outline-none text-sm bg-transparent' />
          </div>
        </form>
        
      </div>
  
      <div class='flex items-center ml-auto'>
        <ul class="flex space-x-4">
          <li
            class="relative px-1 after:absolute after:bg-red-600 after:w-full after:h-[3px] after:block after:-bottom-2 after:left-0 after:transition-all after:duration-300">
            {% if request.user.is_authenticated %}
            <a href="{% url 'profile'%}">
                <div class="flex flex-col justify-center items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 512 512">
                    <path
                    d="M337.711 241.3a16 16 0 0 0-11.461 3.988c-18.739 16.561-43.688 25.682-70.25 25.682s-51.511-9.121-70.25-25.683a16.007 16.007 0 0 0-11.461-3.988c-78.926 4.274-140.752 63.672-140.752 135.224v107.152C33.537 499.293 46.9 512 63.332 512h385.336c16.429 0 29.8-12.707 29.8-28.325V376.523c-.005-71.552-61.831-130.95-140.757-135.223zM446.463 480H65.537V376.523c0-52.739 45.359-96.888 104.351-102.8C193.75 292.63 224.055 302.97 256 302.97s62.25-10.34 86.112-29.245c58.992 5.91 104.351 50.059 104.351 102.8zM256 234.375a117.188 117.188 0 1 0-117.188-117.187A117.32 117.32 0 0 0 256 234.375zM256 32a85.188 85.188 0 1 1-85.188 85.188A85.284 85.284 0 0 1 256 32z"
                    data-original="#000000" fill="white"/>
                </svg>
                <span class="text-xs text-white font-semibold mt-1">Profile</span>
                </div>
            </a>
            {% else %}
            <a href="{% url 'account_login'%}">
                <div class="flex flex-col justify-center items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 512 512">
                    <path
                    d="M337.711 241.3a16 16 0 0 0-11.461 3.988c-18.739 16.561-43.688 25.682-70.25 25.682s-51.511-9.121-70.25-25.683a16.007 16.007 0 0 0-11.461-3.988c-78.926 4.274-140.752 63.672-140.752 135.224v107.152C33.537 499.293 46.9 512 63.332 512h385.336c16.429 0 29.8-12.707 29.8-28.325V376.523c-.005-71.552-61.831-130.95-140.757-135.223zM446.463 480H65.537V376.523c0-52.739 45.359-96.888 104.351-102.8C193.75 292.63 224.055 302.97 256 302.97s62.25-10.34 86.112-29.245c58.992 5.91 104.351 50.059 104.351 102.8zM256 234.375a117.188 117.188 0 1 0-117.188-117.187A117.32 117.32 0 0 0 256 234.375zM256 32a85.188 85.188 0 1 1-85.188 85.188A85.284 85.284 0 0 1 256 32z"
                    data-original="#000000" fill="white"/>
                </svg>
                <span class="text-xs text-white font-semibold mt-1">Profile</span>
                </div>
            </a>
            {% endif %}
          </li>
          <a href="{% url 'subscription_plans' %}">
          <li
            class="relative px-1 after:absolute after:bg-red-600 after:w-0 hover:after:w-full hover:after:h-[3px] after:block after:-bottom-2 after:left-0 after:transition-all after:duration-300">
            <div class="flex flex-col justify-center items-center cursor-pointer">
              
              <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 24 24">
                <path fill="white" d="M12 24c1.104 0 2-.896 2-2H10c0 1.104.896 2 2 2zm6-2v-5c0-3.313-1.845-6.152-4.617-7.062A5.998 5.998 0 0 0 12 2a6 6 0 0 0-6 6c0 .575.086 1.116.233 1.625C3.845 10.848 2 13.688 2 17v5l-1.59 1.59A1 1 0 0 0 1 24h22a1 1 0 0 0 .59-1.41L18 22z"/>
            </svg>
              
              <span class="text-xs text-white font-semibold mt-1">Subscribe</span>
            
            </div>
          </li>
        </a>

        </ul>
  
        <button id="toggleOpen" class='lg:hidden ml-7'>
          <svg class="w-7 h-7" fill="#fff" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd"
              d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
              clip-rule="evenodd"></path>
          </svg>
        </button>
      </div>
    </div>
  </header>

  <script>
    var toggleOpen = document.getElementById('toggleOpen');
var toggleClose = document.getElementById('toggleClose');
var collapseMenu = document.getElementById('collapseMenu');

function handleClick() {
  if (collapseMenu.style.display === 'block') {
    collapseMenu.style.display = 'none';
  } else {
    collapseMenu.style.display = 'block';
  }
}

toggleOpen.addEventListener('click', handleClick);
toggleClose.addEventListener('click', handleClick);
</script>